# Обзор проекта Piket

## 1. Назначение системы

**Piket** — это специализированная **онлайн-платформа для управления строительными проектами**, в первую очередь предназначенная для ведения **исполнительной документации** и организации рабочих процессов на линейных объектах (автомобильные и железные дороги, мосты, магистрали, инженерные коммуникации и т.д.).  

Система решает проблему, которая существует во многих подрядных и инженерных организациях:  
все участники строительного процесса — от инженеров на площадке до руководителей компаний и заказчиков — работают с разрозненной информацией, в бумажных актах, Excel-таблицах и чатах. Это приводит к:
- потерям данных;
- дублированию работы;
- ошибкам в отчётности;
- несвоевременной передаче информации между сторонами;
- невозможности оперативно проверить фактическое выполнение работ.

**Piket** создаёт единое цифровое пространство, в котором:
- **Собираются все данные по объекту** — проектная документация, записи о выполненных работах, геодезия, акты, ведомости, фотографии, погодные условия, информация о подрядчиках и комиссиях.
- **Автоматизируется формирование исполнительной документации** — система сама агрегирует записи из журнала работ, формирует акты, группирует их в тома и готовит к печати.
- **Обеспечивается контроль прав доступа** — каждый участник видит и редактирует только то, что ему разрешено, но при этом может работать в едином пространстве с другими.
- **Исключается дублирование информации** — одни и те же данные используются во всех документах, где они нужны, без ручного копирования.
- **Сокращается время на подготовку документов** — благодаря автоматической подгрузке данных, автосуммированию объёмов, наследованию комиссий и приложений.

Piket полезен для:
- **Генподрядчика** — централизованное ведение всей документации по объектам, контроль работы сотрудников и субподрядчиков.
- **Субподрядчика** — фиксация объёмов, передача данных генподрядчику в удобном виде.
- **Заказчика** — доступ к актуальной информации по работам, контроль сроков и объёмов.
- **Инженеров ПТО** — автоматизация рутинных задач по заполнению журналов, актов, ведомостей.
- **Проектных организаций** — хранение актуальной проектной документации и внесённых изменений.
- **Аутсорсных специалистов** — точечный доступ к объектам и конкретным разделам.

Ключевая философия системы — **«Все данные объекта в одном месте, всегда актуальны»**.  
Даже при работе офлайн или из полевых условий (в перспективе мобильная версия) инженер может внести данные, которые автоматически попадут в общую систему и будут учтены при формировании итоговых документов.

---

## 2. Общая структура
Piket построен как **модульная SPA-система** (React или Next.js) с чёткой иерархией сущностей:
Организация → Объекты → Разделы объекта (Файлы, Производство, Исполнение и др.)
- **Организация** — юридическое лицо, владелец одного или нескольких объектов.
- **Объект** — конкретный проект (участок дороги, мост, реконструкция и т.д.).
- **Разделы объекта**:
  - **Файлы** — хранение проектной и исполнительной документации.
  - **Производство** — учёт выполненных работ (Журнал работ, Участки и др.).
  - **Исполнение** — акты выполненных работ, тома, приложения.
  - (В будущем: Склады, Аналитика, ведомости и пр.)

Вход в любой раздел возможен только после выбора организации и объекта.

---

## 3. Модель доступа
Система реализует **гибкое разграничение прав**:
- Права задаются на любую сущность (организация, объект, раздел, подпапка, документ).
- Права **наследуются** сверху вниз (например, от организации к объекту), но можно дать дополнительные права на вложенную сущность.
- Основные уровни:  
  `Чтение` → `Редактирование` → `Управление доступом` → `Подписание`.
- Особое право **Владелец** доступно только на уровне организации и даёт полный контроль (включая удаление).

---

## 4. Подписка и тарифы
- Любой пользователь может зарегистрироваться бесплатно.
- Создать организацию может любой пользователь, при этом ей присваивается тариф **СТАРТ** — 1 месяц бесплатно, 1 объект, 1 Гб хранилища.
- После пробного периода необходимо выбрать платный тариф.
- Тарифы различаются по количеству объектов, объёму хранилища и доступу к доп. функциям (ИИ-помощник, поддержка 24/7 и т.д.).

---

## 5. Основные разделы и их назначение

### 5.1. Организации
- Хранит список всех организаций пользователя.
- Таблица включает: сокращённое название, тариф, количество объектов, объём хранилища, дату окончания подписки.
- Из организации можно перейти в её объекты и разделы.
- В карточке организации — контакты, сотрудники, реквизиты (ИНН с автозаполнением из ФНС).

---

### 5.2. Объекты
- Список всех объектов выбранной организации.
- Карточка объекта хранит:
  - сокращённое и полное наименование;
  - систему отсчёта (ПК или КМ);
  - координаты (для интеграции с Яндекс.Картами и определения погоды);
  - данные контракта (номер, период, сумма);
  - участников контракта (заказчик, генподрядчик, субподрядчики).
- Объекты открывают доступ к разделам: **Файлы**, **Производство**, **Исполнение**.

---

### 5.3. Файлы
- Структурированное хранение документов.
- Системные папки (например, «Приложения») удалить нельзя.
- Возможность загружать файлы любых форматов.
- Корзина на уровне каждого объекта.
- Права доступа на папки/файлы.

---

### 5.4. Производство
Главная вкладка — **Журнал работ**:
- Хранит записи о выполненных работах.
- Каждая запись содержит:
  - работу (из справочника — Реестра работ);
  - дату/время выполнения;
  - погодные условия (интеграция с погодными сервисами);
  - список участков, где выполнялась работа.

Вторая вкладка — **Участки**:
- Минимальная единица привязки объёмов к месту.
- Адрес участка — ПК или КМ с начальной и конечной точкой.
- Участок всегда связан с одной записью в журнале работ.
- Ввод объёмов вручную, автоматическая суммаризация в журнале.

---

### 5.5. Исполнение
Состоит из двух основных элементов:
1. **Акты** — агрегируют участки по выбранной работе за определённый период:
   - Автоматический или ручной подбор участков.
   - Нумерация актов по порядку выполнения работ.
   - Комиссия (список участников с должностями и организациями).
   - Приложения (документы, ведомости, сканы).
2. **Тома** — комплекты актов за отчётный период:
   - Связь с периодом и объектом.
   - Формирование итогового комплекта документации.
   - Подписание тома блокирует изменения.

---

## 6. Ключевые принципы
- **Иерархичность** — все данные связаны от организации до конкретного участка работ.
- **Наследование прав** — минимизация ручной настройки доступа.
- **Гибкость** — возможность создавать объекты, работы, участки и документы в любом порядке, связывая их позже.
- **Автоматизация** — автоподбор участков, расчёт объёмов, подтягивание данных по ИНН, погоде и координатам.
- **Прозрачность** — все действия журналируются.

---

## 7. Будущее развитие
- Модуль «Склады» для учёта материалов.
- Расширенная «Аналитика» с дашбордами по объектам.
- Ведомости и автоматическая генерация отчётов.
- Интеграция с внешними системами (ГИС, BIM, бухгалтерия).
- Мобильное приложение для работы на стройплощадке.

