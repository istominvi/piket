# Безопасность

## Аутентификация

- Используется схема JSON Web Token (JWT). После успешного входа пользователь получает токен, который передается во всех запросах в заголовке `Authorization: Bearer`.
- Токен имеет срок действия (например, 1 час) и обновляется с помощью refresh‑токена.
- Пароли хранятся в базе в виде хэшей (bcrypt с солью).

## Роли и права

- Каждому пользователю можно назначить одну или несколько ролей (директор, инженер, мастер, бухгалтер, заказчик).
- Права доступа зависят от роли и могут задаваться на уровне организации, объекта, раздела (чтение, редактирование, управление доступом, подписание).
- Пользователи с правом «Владелец» или «Управление доступом» могут делегировать права другим (см. диалог управления доступом).

## Безопасность данных

- Данные разных организаций изолированы (multi‑tenancy). Пользователь не может получить доступ к данным других компаний без явного приглашения.
- Соединения выполняются по HTTPS. Сайт должен иметь действующий TLS‑сертификат.
- Регулярные резервные копии базы данных и файлового хранилища.
- Логи доступа и действий пользователей хранятся не менее 180 дней.

## Конфиденциальность и персональные данные

- Система соответствует требованиям ФЗ‑152 «О персональных данных».
- Персональные данные (ФИО, контактная информация) обрабатываются только для целей работы сервиса и не передаются третьим лицам.

