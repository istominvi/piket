# Требования

## Область проекта (Scope)

## Что входит (MVP)

### 1) Онбординг и личный кабинет
- Регистрация, вход/выход, восстановление доступа.
- Профиль пользователя (минимум: ФИО, e-mail).

### 2) Организация (контекст работы)
- Создание новой организации **или** присоединение к существующей.
- Выбор **активной** организации (контекст для всех дальнейших действий).
- После выбора доступны разделы: **Аналитика**, **Склады**, **Объекты**.
  - Аналитика и Склады — доступны на уровне организации.
- Управление доступом на уровне организации.
- Тарифные планы: просмотр текущего тарифа, применение ограничений по тарифу.

### 3) Объекты
- Создание/редактирование/архивирование объектов в рамках активной организации.
- Выбор **активного** объекта. После выбора становятся доступны разделы объекта:
  - **Файлы** — загрузка и скачивание пользовательских файлов проекта; корзина (мягкое удаление) 30 дней.
  - **Производство**
    - **Журнал работ** — ведение записей о выполненных работах (дата, адрес/ПК, объёмы), привязка к участкам.
    - **Участки** — хранение координат `startM/endM` (целые метры); адрес в формате ПК рассчитывается и показывается в UI.
  - **Исполнение**
    - **Тома** — создание томов, наполнение актами.
    - **Акты** — ручное и автоматическое формирование на основании Журнала; статусы; нумерация.

### 4) Общие модули
- **Просмотр** — единая точка предварительного просмотра и печати документов из Журнала, Актов и Томов; печать средствами браузера.
- **Доступ** — модуль настройки прав, вызывается из сущностей и разделов (Организация, Объект, Файлы, Журнал, Акты, Тома).

## Что не входит
- Электронные подписи и юридически значимый ЭДО.
- Мобильное приложение (iOS/Android).
- Функциональность, не указанная в разделе «Что входит».


## Требования

### Функциональные требования

1. Пользователь может зарегистрироваться и создать организацию или несколько, или добавиться в уже существующую.
2. Возможность назначать тарифный план организации и видеть ограничения.
3. В рамках организации пользователь может работать с разделом - аналитика и склады.
4. Раздел «Аналитика» доступен на уровне организации (свод по всем объектам). Отдельной аналитики на уровне объекта нет.
5. Для организации можно создавать один и более объектов (количество ограничивается тарифным планом).
6. В рамках объекта инженер может загружать файлы проекта, добавлять записи в журнал работ, указывая участки с адресами и объёмами, на основе этого создавать тома и акты.
7. Инженер может создать «том» на выбранную дату; система агрегирует записи и генерирует акты для печати.
9. Возможность управлять правами доступа на уровне организации, объектов и иных разделов.

### Нефункциональные требования

- **Производительность:** страница журнала работ должна загружаться ≤ 2 секунд при стандартном интернет‑подключении.
- **Безопасность:** все соединения по HTTPS; данные разных компаний разделены (multi‑tenancy), доступ к данным ограничивается правами.
- **Масштабируемость:** система должна поддерживать 1 000+ активных пользователей.
- **Язык интерфейса:** русский; архитектура должна позволять добавление других языков.

### Архитектура и технологии (черновой обзор)

- **Бэкенд:** Node.js + Express.js.
- **База данных:** PostgreSQL.
- **Фронтенд:** React.js; мобильная версия — React Native (при необходимости).
- **Хранение файлов:** локально или в облачном хранилище (подлежит уточнению).
- **API:** REST/JSON; описание конечных точек и форматов запросов и ответов будет добавлено в отдельном разделе.

### Безопасность (черновой обзор)

- Аутентификация на основе JWT‑токенов.
- Хэширование паролей и регулярное резервное копирование базы данных.

